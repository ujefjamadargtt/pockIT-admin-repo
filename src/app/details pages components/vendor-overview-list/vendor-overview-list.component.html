<div nz-row nzType="flex" class="tech-header-row">
    <div nz-col nzXs="24" nzSm="24" nzMd="20" nzLg="20" nzXl="8">
        <div class="formname"><b> Technicians </b></div>
    </div>
    <div nz-col nzXs="24" nzSm="24" nzMd="4" nzLg="4" nzXl="12">
        <div class="tech-header-actions">
            <button nz-button class="tech-filter-btn" nzTooltipTitle="Filter" [nzType]="isFilterApplied"
                nzTooltipPlacement="top" nz-tooltip (click)="showFilter()">
                <i nz-icon nzType="filter"></i>
            </button>
            <form nz-form [nzLayout]="'inline'">
                <nz-form-item class="Changeformitm tech-search-item">
                    <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                        <input type="text" name="webbannersearch" (keydown.enter)="onKeypressEvent($event)"
                            [(ngModel)]="searchText" nz-input placeholder="Search" />
                    </nz-input-group>
                    <ng-template #suffixIconButton>
                        <button nz-button nzType="primary" id="buttonss" (click)="searchdata()" nzSearch>
                            <i nz-icon nzType="search"></i>
                        </button>
                    </ng-template>
                </nz-form-item>
            </form>
        </div>
    </div>
</div>
<div nz-row>
    <div nz-col nzSpan="24">
        <div class="filter {{ filterClass }}">
            <div class="filter-box">
                <form nz-form>
                    <div nz-row>
                        <div nz-col nzSpan="7" *ngIf="TYPE!='CUSTOMER'">
                            <nz-form-item class="tech-customer-item">
                                <nz-form-label nzNoColon>Customers</nz-form-label>
                                <nz-select nzShowSearch nzAllowClear nzMode="multiple" nzPlaceHolder="Select Customers"
                                    [nzShowArrow]="true" class="tech-customer-select" [nzMaxTagCount]="2"
                                    name="Customerss" [(ngModel)]="Customers">
                                    <nz-option *ngFor="let list of CustomersData" [nzValue]="list.ID"
                                        [nzLabel]="list.NAME"></nz-option>
                                </nz-select>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="7" class="tech-filter-actions">
                            <button nz-button [nzLoading]="isSpinning" nzType="primary" class="flexicons"
                                (click)="applyFilter()">
                                <i nz-icon nzType="filter"></i>Apply Filter
                            </button>
                            <button nz-button nzType="primary" class="flexicons" (click)="clearFilter()">
                                <i nz-icon nzType="delete"></i>Clear filter
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<nz-spin nzTip="Loading..." [nzSpinning]="isSpinning">
    <div>
        <div nz-row>
            <div nz-col nzSpan="8" *ngFor="let tech of originalTechniciansData" (click)="view(tech)">
                <div nz-row class="tech-card" [ngStyle]="{'background-color': tech.STATUS === 0 ? '#d9d9d9' : '#fff'}">
                    <div class="mainnam" nz-col nzSpan="24" nz-popover [nzPopoverContent]="tech['NAME']"
                        nzPopoverPlacement="topLeft">
                        <b>Name: </b>{{ tech?.NAME }}
                    </div>
                    <div class="subname" nz-col nzSpan="24" nz-popover [nzPopoverContent]="tech['BUSINESS_NAME']"
                        nzPopoverPlacement="topLeft">
                        <b>Business Name: </b>{{ tech?.NAME }}
                    </div>
                    <div class="subname" nz-col nzSpan="24">
                        <b>Email: </b>
                        <a class="tech-link" href="mailto:{{ tech?.EMAIL_ID }}" nz-popover
                            [nzPopoverContent]="tech['EMAIL_ID']" nzPopoverPlacement="topLeft">{{ tech?.EMAIL_ID }}</a>
                    </div>
                    <div class="subname" nz-col nzSpan="12">
                        <b>Mobile: </b>
                        <a class="tech-link" nz-popover [nzPopoverContent]="tech['MOBILE_NUMBER']"
                            nzPopoverPlacement="topLeft" href="tel:{{ tech?.MOBILE_NUMBER }}">
                            {{ tech?.COUNTRY_CODE }}&nbsp;{{ tech?.MOBILE_NUMBER }}
                        </a>
                    </div>
                    <div class="subname tech-status-col" nz-col nzSpan="8" *ngIf="tech?.STATUS == 1">
                        <span class="tech-status-active">Active</span>
                    </div>
                    <div class="subname tech-status-col" nz-col nzSpan="8" *ngIf="tech?.STATUS == 0">
                        <span class="tech-status-inactive">Inactive</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nz-spin>
<div *ngIf="drawerVisibleCustomers">
    <nz-drawer [nzBodyStyle]="{ height: 'calc(100% - 55px)', overflow: 'auto', 'padding-bottom': '53px' }"
        [nzClosable]="true" [nzMask]="true" [nzMaskClosable]="true" [nzWidth]="widths"
        [nzVisible]="drawerVisibleCustomers" [nzTitle]="drawerTitleCustomers" (nzOnClose)="drawerCloseCustomers()"
        (nzKeyboard)="true">
        <ng-container *nzDrawerContent>
            <app-vendor-overview-details [drawerClose]="closeCallbackCustomers" [drawerVisible]="drawerVisibleCustomers"
                [data]="drawerDataCustomers" [custid]="custid">
            </app-vendor-overview-details>
        </ng-container>
    </nz-drawer>
</div>