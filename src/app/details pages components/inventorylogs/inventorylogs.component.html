<div>
  <div nz-row>
    <div nz-col nzSpan="18" style="font-weight: bold">
      {{ ITEM_NAME }}
    </div>
    <div nz-col nzSpan="6">
      <div style="display: flex; justify-content: flex-end; align-items: center">
        <button nz-button style="margin-right: 10px" nzTooltipTitle="Filter" [nzType]="isFilterApplied"
          nzTooltipPlacement="top" nz-tooltip (click)="showFilter()">
          <i nz-icon nzType="filter"></i>
        </button>
      </div>
    </div>
  </div>
  <div nz-row>
    <div nz-col nzSpan="24">
      <div class="filter {{ filterClass }}">
        <div class="filter-box">
          <form nz-form>
            <div nz-row>
              <div nz-col nzSpan="8">
                <nz-form-item style="margin-right: 10px !important">
                  <nz-form-label nzNoColon>Date</nz-form-label>
                  <nz-range-picker style="width: 100%" [nzFormat]="'dd/MM/yyyy'" nzAllowClear="false"
                    [nzRanges]="ranges" (nzOnCalendarChange)="changeDate($event)" name="selectedDate"
                    [(ngModel)]="selectedDate">
                  </nz-range-picker>
                </nz-form-item>
              </div>


              <div nz-col nzSpan="8" style="
                  display: flex;
                  gap: 10px;
                  padding: 0px 0px 0px 10px;
                  align-self: center;
                  margin-top: 20px;
                ">
                <button nz-button [nzLoading]="isSpinning" nzType="primary" class="flexicons" (click)="applyFilter()">
                  <i nz-icon nzType="filter"></i>Apply Filter
                </button>
                <button nz-button nzType="default" class="flexicons" (click)="clearFilter()">
                  <i nz-icon nzType="delete"></i>Clear filter
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <nz-divider style="margin: 0px 0px 10px !important"></nz-divider>
  <nz-spin [nzSpinning]="loadactionlogs">
    <div style="margin-left: -150px">
      <nz-timeline [nzMode]="mode">
        <nz-timeline-item *ngFor="let group of timelineData" nzLabel="{{ group.date | date : 'hh/MMM/yyyy' }}">
          <div class="event-details">
            <!-- Icon and Title -->
            <div class="event-title">
              <span style="
                  font-size: 14px !important;
                  font-weight: 500;
                  color: darkslateblue;
                ">{{ group.events.ACTION_TYPE }}</span>
              |
              <span style="
                  color: rgb(143 143 143);
                  font-size: 11px !important;
                  font-weight: 600;
                ">
                {{ group.events.time }}
              </span>
            </div>
            <!-- Time and User -->
            <div class="event-meta">
              <span class="time">
                <span>{{ group.events.title }}</span> </span><br />
              <span style="font-size: 10px !important" class="event-description"
                *ngIf="group.events.WAREHOUSE_NAME != ''">Warehouse Name :&nbsp;
                <span style="font-size: 10px !important">
                  {{ group.events.WAREHOUSE_NAME }}</span>
                &nbsp;&nbsp; Quantity :&nbsp;<span style="font-size: 10px !important">
                  {{ group.events.QUANTITY }} {{ group.events.UNIT_NAME }}
                </span>
              </span>
              <span style="font-size: 10px !important" class="event-description"
                *ngIf="group.events.description != ''">Reason :&nbsp;
                <span style="font-size: 10px !important">
                  {{ group.events.description }}</span>
              </span>
            </div>
          </div>
        </nz-timeline-item>
      </nz-timeline>
    </div>

    <ng-template #loadingTemplate>
      <nz-spin>Loading timeline data...</nz-spin>
    </ng-template>

    <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24" *ngIf="timelineData.length == 0"
      style="font-weight: 600; margin-top: 10%">
      <nz-empty nzNotFoundImage="https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg"
        [nzNotFoundContent]="contentTpl" [nzNotFoundFooter]="footerTpl">
        <ng-template #contentTpl>
          <span> Data Not Found</span>
        </ng-template>
        <ng-template #footerTpl> </ng-template>
      </nz-empty>
    </div>
  </nz-spin>
</div>