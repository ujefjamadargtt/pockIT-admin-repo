<div>
  <form nz-form #websitebannerPage="ngForm">
    <div nz-row nzGutter="24">
      <div nz-col nzSpan="12">
        <div nz-col nzSpan="24" class="my-box my-box-top-margin">
          <div nz-row>
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label nzRequired nzNoColon>Template Name</nz-form-label>
                <nz-form-control nzHasFeedback nzErrorTip="Please Enter Template Name">
                  <input id="Gstno" nzErrorTip="Please enter a valid Name" nz-input autocomplete="off" name="name"
                    type="text" [(ngModel)]="data.TEMPLATE_NAME" (ngModelChange)="(data.TEMPLATE_NAME)"
                    (focus)="isFocused = 'TEMPLATE_NAME'" (blur)="isFocused = ''" (keypress)="validateInput($event)"
                    (input)="replaceSpacesWithUnderscores()" placeholder="Enter SMS Template Name" required
                    maxlength="128" />
                  <h6 class="character-count" *ngIf="
                      isFocused === 'TEMPLATE_NAME' ||
                      (data.TEMPLATE_NAME && isFocused === 'TEMPLATE_NAME')
                    ">
                    {{ data.TEMPLATE_NAME.length || 0 }}/128
                  </h6>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <div nz-row>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label nzRequired nzNoColon> Category </nz-form-label>
                <nz-form-control nzHasFeedback nzErrorTip="Please Select Template Category">
                  <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select Template Category" name="agent12"
                    [(ngModel)]="data.CATEGORY" required>
                    <nz-option nzValue="Alerts" nzLabel="Alerts"></nz-option>
                    <nz-option nzValue="Transaction" nzLabel="Transaction"></nz-option>
                    <nz-option nzValue="Reminders" nzLabel="Reminders"></nz-option>
                    <nz-option nzValue="Promotions" nzLabel="Promotions"></nz-option>
                    <nz-option nzValue="Updates" nzLabel="Updates"></nz-option>
                    <nz-option nzValue="Feedback" nzLabel="Feedback"></nz-option>
                    <nz-option nzValue="Notification" nzLabel="Notification"></nz-option>
                    <nz-option nzValue="Onboarding" nzLabel="Onboarding"></nz-option>
                    <nz-option nzValue="Loyalty" nzLabel="Loyalty"></nz-option>
                    <nz-option nzValue="Security" nzLabel="Security"></nz-option>
                    <nz-option nzValue="Other" nzLabel="Other"></nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label nzRequired nzNoColon> Language </nz-form-label>
                <nz-form-control nzHasFeedback nzErrorTip="Please Select Language">
                  <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select Language" name="LANGUAGE_CODE"
                    [(ngModel)]="data.LANGUAGE_CODE" required>
                    <nz-option *ngFor="let data of LanguageData" [nzValue]="data.ID" [nzLabel]="data.NAME">
                    </nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <div nz-row>
            <div nz-col nzSpan="24">
              <nz-form-item>
                <nz-form-label nzNoColon>Description</nz-form-label>
                <nz-form-control>
                  <textarea nz-input rows="2" name="description" maxlength="512" [(ngModel)]="data.DESCRIPTION"
                    (ngModelChange)="
                      data.DESCRIPTION = data.DESCRIPTION?.trim()
                    " (focus)="isFocused = 'DESCRIPTION'" (blur)="isFocused = ''"
                    placeholder="Enter Description"></textarea>
                  <h6 class="character-count" *ngIf="
                      isFocused === 'DESCRIPTION' ||
                      (data.DESCRIPTION && isFocused === 'DESCRIPTION')
                    ">
                    {{ data.DESCRIPTION?.length || 0 }}/512
                  </h6>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <div nz-row>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label nzNoColon>Status</nz-form-label>
                <nz-form-control>
                  <nz-switch name="Status" nzCheckedChildren="Active" nzUnCheckedChildren="Inactive"
                    [(ngModel)]="data.IS_ACTIVE">
                  </nz-switch>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </div>
      </div>
      <div nz-col nzSpan="12" class="my-box my-box-top-margin">
        <nz-form-item>
          <nz-form-label nzRequired nzNoColon>Body &nbsp;<span nz-icon nzType="info-circle" nzTheme="twotone" nz-tooltip
              nzTooltipTitle="To add a custom variable, please add a variable in double curly
            brackets like:{{ abc }}"></span></nz-form-label>
          <br />
          <nz-form-control nzHasFeedback nzErrorTip="Please Enter Body">
            <button nz-button class="format-button-bold" (click)="convertB()">
              <span class="bold-text"><b>B</b></span>
            </button>
            <button nz-button class="format-button-italic" (click)="convertI()">
              <span class="italic-text"><i>I</i></span>
            </button>
            <textarea #textArea id="messages2" class="template-textarea" nz-input rows="8" name="templatebody"
              [(ngModel)]="data.TEMPLATE_BODY" required autocomplete="off"
              (input)="checkInput1()"></textarea>
            <h6 class="character-count" *ngIf="inputBody != undefined">
            </h6>
          </nz-form-control>
        </nz-form-item>
        <span *ngIf="showDynamicInput1">
          <nz-form-item>
            <nz-form-label nzRequired nzNoColon>Sample Values For Body Content</nz-form-label>
            <nz-form-control>
              <nz-select class="full-width-select" nzMode="tags" nzPlaceHolder="Enter Sample Values" name="tag1"
                [(ngModel)]="data.BODY_VALUES">
                <nz-option *ngFor="let option of inputValuess1" [nzLabel]="option" [nzValue]="option"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </span>
      </div>
    </div>
  </form>
  <div class="footer">
    <button type="button" nz-button (click)="close()" class="ant-btn footer-cancel-btn">
      <span>Cancel</span>
    </button>
    <button *ngIf="!data.ID" type="button" class="ant-btn ant-btn-primary" nz-button [nzLoading]="isSpinning"
      (click)="save(false, websitebannerPage)">
      <span>Save & Close</span>
    </button>
    <button type="button" class="ant-btn ant-btn-primary" nz-button [nzLoading]="isSpinning" *ngIf="data.ID"
      (click)="save(false, websitebannerPage)">
      <span>Update & Close</span>
    </button>
  </div>
</div>