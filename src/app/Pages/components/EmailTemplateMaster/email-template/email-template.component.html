<div>
  <form nz-form #websitebannerPage="ngForm">
    <nz-spin [nzSpinning]="isSpinning">
      <div nz-row nzGutter="24" class="my-box">
        <div nz-col nzSpan="12" [ngStyle]="{ 'padding-left': '0px' }">
          <div nz-col nzSpan="24">
            <div nz-row>
              <div nz-col nzSpan="24">
                <nz-form-item>
                  <nz-form-label nzRequired nzNoColon>Template Name
                  </nz-form-label>
                  <nz-form-control nzHasFeedback nzErrorTip="Please Enter Template Name">
                    <input nz-input autocomplete="off" name="name" type="text" (keypress)="validateInput($event)"
                      [(ngModel)]="data.TEMPLATE_NAME" PlaceHolder="Enter Email Template Name"
                      (input)="replaceSpacesWithUnderscores()" required maxlength="128" (focus)="isFocused = 'name'"
                      (blur)="isFocused = ''" />
                    <h6 class="txtarea-size" *ngIf="
                        isFocused === 'name' ||
                        (data.TEMPLATE_NAME && isFocused === 'name')
                      ">
                      {{ data.TEMPLATE_NAME.length }}/128
                    </h6>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <div nz-row>
              <div nz-col nzSpan="12">
                <nz-form-item>
                  <nz-form-label nzRequired nzNoColon>Template Category Name</nz-form-label>
                  <nz-form-control nzHasFeedback nzErrorTip="Select Category Name">
                    <nz-select name="TEMPLATE_CATEGORY_ID" nzPlaceHolder="Select Category Name" nzShowSearch
                      class="full-wdt" [(ngModel)]="data.TEMPLATE_CATEGORY_ID" [ngModelOptions]="{ standalone: true }"
                      required nzAllowClear (ngModelChange)="onTemplateCategorySelect($event)">
                      <nz-option *ngFor="let data of templateCategories" [nzValue]="data.ID" [nzLabel]="data.NAME">
                      </nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col nzSpan="12">
                <nz-form-item>
                  <nz-form-label nzRequired nzNoColon>Language Name</nz-form-label>
                  <nz-form-control nzHasFeedback nzErrorTip="Please Select Language Name">
                    <nz-select name="LANGUAGE_CODE" nzPlaceHolder="Select Language Name" nzShowSearch class="full-wdt"
                      [(ngModel)]="data.LANGUAGE_CODE" [ngModelOptions]="{ standalone: true }" required nzAllowClear>
                      <nz-option *ngFor="let data of LangugageData" [nzValue]="data.ID" [nzLabel]="data.NAME">
                      </nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <div nz-row>
              <div nz-col nzSpan="24">
                <nz-form-item>
                  <nz-form-label nzRequired nzNoColon>Subject </nz-form-label>
                  <nz-form-control nzHasFeedback nzErrorTip="Please Enter Subject">
                    <textarea nz-input autocomplete="off" name="Subject" type="text" [(ngModel)]="data.SUBJECT"
                      PlaceHolder="Enter Subject" required rows="2" maxlength="512" (focus)="isFocused = 'Subject'"
                      (blur)="isFocused = ''"></textarea>
                    <h6 class="txtarea-size" *ngIf="
                        isFocused === 'Subject' ||
                        (data.SUBJECT && isFocused === 'Subject')
                      ">
                      {{ data.SUBJECT.length }}/512
                    </h6>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <div nz-row>
              <div nz-col nzSpan="4">
                <nz-form-item>
                  <nz-form-label nzNoColon>Status</nz-form-label>
                  <nz-form-control>
                    <nz-switch name="Status" nzCheckedChildren="Active" nzUnCheckedChildren="Inactive"
                      [(ngModel)]="data.IS_ACTIVE">
                    </nz-switch>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
          </div>
        </div>
        <div nz-col nzSpan="12">
          <div nz-col nzSpan="24">
            <nz-form-item>
              <nz-form-label nzRequired nzNoColon>Email Body &nbsp;<span nz-icon nzType="info-circle" nzTheme="twotone"
                  nz-tooltip nzTooltipTitle="To add a custom variable,please add a variable in double curly
                brackets like:{{ abc }}"></span> </nz-form-label><br />
              <nz-form-control nzHasFeedback nzErrorTip="Body is required">
                <angular-editor name="Body" [(ngModel)]="data.BODY" [config]="config" (input)="checkInput1()">
                </angular-editor>
              </nz-form-control>
            </nz-form-item>
            <span *ngIf="showDynamicInput1">
              <nz-form-item>
                <nz-form-label nzRequired nzNoColon>Sample Values For Body Content</nz-form-label>
                <nz-form-control>
                  <nz-select class="full-wdt" nzMode="tags" nzPlaceHolder="Enter Sample Values" name="tag1"
                    [(ngModel)]="data.BODY_VALUES" (ngModelChange)="check1()">
                    <nz-option *ngFor="let option of inputValuess1" [nzLabel]="option.TABLE_COLUMN"
                      [nzValue]="option.TABLE_COLUMN"></nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </span>
          </div>
        </div>
      </div>
    </nz-spin>
  </form>
  <div class="footer">
    <button type="button" nz-button (click)="close()" class="ant-btn footer-cancel-spacing">
      <span>Cancel</span>
    </button>
    <button *ngIf="!data.ID" type="button" class="ant-btn ant-btn-primary footer-primary-btn" nz-button
      [nzLoading]="isSpinning" (click)="save(false, websitebannerPage)">
      <span>Save & Close</span>
    </button>
    <button type="button" class="ant-btn ant-btn-primary" nz-button [nzLoading]="isSpinning" *ngIf="data.ID"
      (click)="save(false, websitebannerPage)">
      <span>Update & Close</span>
    </button>
  </div>
</div>