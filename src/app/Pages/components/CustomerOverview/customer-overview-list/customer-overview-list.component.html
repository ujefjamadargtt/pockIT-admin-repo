<nz-spin [nzSpinning]="loadCust">
    <div nz-row>
        <div nz-col nzSpan="24" class="cust-header-shadow">
            <div nz-row [nzGutter]="16" class="cust-header-padding">
                <div nz-col nzSpan="8" class="mainnam" nz-popover [nzPopoverContent]="CustData['NAME']"
                    nzPopoverPlacement="topLeft">
                    <span class="name-container-flex">
                        <span class="name-text-ellipsis">
                            Name: {{ CustData.NAME }}
                        </span>
                        <span *ngIf="CustData.ACCOUNT_STATUS" class="account-status-active">
                            Active
                        </span>
                        <span *ngIf="!CustData.ACCOUNT_STATUS" class="account-status-inactive">
                            Inactive
                        </span>
                        <span *ngIf="CustData.ACCOUNT_STATUS" class="account-status-active">
                            Active
                        </span>
                        <span *ngIf="!CustData.ACCOUNT_STATUS" class="account-status-inactive">
                            Inactive
                        </span>
                    </span>
                </div>
                <div nz-col nzSpan="8" class="subname" *ngIf="
              CustData.COMPANY_NAME != undefined &&
              CustData.COMPANY_NAME != null &&
              CustData.COMPANY_NAME != ''
            " nz-popover [nzPopoverContent]="CustData['COMPANY_NAME']" nzPopoverPlacement="topLeft">
                    Company Name : {{ CustData.COMPANY_NAME }}
                </div>
                <div nz-col nzSpan="8" class="subname">
                    Customer Type :
                    <span *ngIf="CustData.CUSTOMER_TYPE == 'I'">Individual(B2C)</span>
                    <span *ngIf="CustData.CUSTOMER_TYPE == 'B'">Business(B2B)</span>
                </div>
                <div nz-col nzSpan="8" class="subname">
                    Registration Datetime:
                    {{ CustData.REGISTRATION_DATE | date : "dd/MM/yyyy HH:mm a" }}
                </div>
                <div nz-col nzSpan="8" class="subname">
                    Mobile No: {{ CustData.COUNTRY_CODE }}{{ CustData.MOBILE_NO }}
                </div>
                <div nz-col nzSpan="8" class="subname" nz-popover [nzPopoverContent]="CustData['EMAIL']"
                    nzPopoverPlacement="topLeft">
                    Email ID: {{ CustData.EMAIL }}
                </div>
                <div nz-col nzSpan="8" class="subname" *ngIf="
              CustData.PAN != undefined &&
              CustData.PAN != null &&
              CustData.PAN != ''
            ">
                    PAN No. : {{ CustData.PAN }}
                </div>
            </div>
        </div>
    </div>
    <div nz-row class="cust-tab-wrapper">
        <div nz-col nzSpan="24">
            <nz-tabset nzCentered (nzSelectedIndexChange)="onSelectedIndexChange($event)">
                <nz-tab [nzTitle]="'Address Details'">
                    <div *ngIf="show == 0">
                        <div nz-row>
                            <div nz-col nzSpan="24" *ngIf="totalRecords > 0">
                                <div class="address-container">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-12 address-item"
                                            *ngFor="let data of addressData">
                                            <div class="card border-0 bg-light rounded shadow">
                                                <div class="card-body address-card-body">
                                                    <div nz-row>
                                                        <div nz-col nzSpan="20" class="truncate-one-line address-title"
                                                            nz-popover [nzPopoverContent]="data['ADDRESS_LINE_1']"
                                                            nzPopoverPlacement="topLeft">
                                                            <i class="fa fa-map-marker"></i>&nbsp;{{
                                                            data.ADDRESS_LINE_1
                                                            }}
                                                        </div>
                                                        <div nz-col nzSpan="4" class="address-default-col"
                                                            *ngIf="addressData != undefined && data.IS_DEFAULT">
                                                            <span
                                                                class="badge rounded-pill bg-primary address-default-badge">
                                                                Default Address
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="address-subinfo">
                                                        <span class="text-muted d-block">
                                                            <a target="_blank" class="text-muted" nz-popover
                                                                [nzPopoverContent]="popoverTemplate"
                                                                nzPopoverPlacement="topLeft">{{ data.COUNTRY_NAME }},{{
                                                                data.STATE_NAME
                                                                }}</a></span>
                                                        <span class="text-muted d-block"><a target="_blank"
                                                                class="text-muted" nz-popover
                                                                [nzPopoverContent]="citypopover"
                                                                nzPopoverPlacement="topLeft">{{ data.DISTRICT_NAME }},{{
                                                                data.PINCODE }}</a></span>
                                                        <ng-template #popoverTemplate>
                                                            <div>
                                                                <p *ngIf="addressData != undefined">
                                                                    <strong>Country:</strong>
                                                                    {{ data.COUNTRY_NAME }}
                                                                </p>
                                                                <p *ngIf="addressData != undefined">
                                                                    <strong>State:</strong> {{ data.STATE_NAME }}
                                                                </p>
                                                            </div>
                                                        </ng-template>
                                                        <ng-template #citypopover>
                                                            <div>
                                                                <p *ngIf="addressData != undefined">
                                                                    <strong>District:</strong>
                                                                    {{ data.DISTRICT_NAME }}
                                                                </p>
                                                                <p *ngIf="addressData != undefined">
                                                                    <strong>Pincode:</strong>
                                                                    {{ data.PINCODE }}
                                                                </p>
                                                            </div>
                                                        </ng-template>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div nz-row *ngIf="totalRecords == 0 && show == 0" class="no-address-wrapper">
                                <div nz-col nzSpan="24" class="no-address-center">
                                    <nz-empty
                                        nzNotFoundImage="https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg"
                                        [nzNotFoundContent]="contentTpl43" [nzNotFoundFooter]="footerTpl43"
                                        class="no-address-empty">
                                        <ng-template #contentTpl43>
                                            <span> Data Not Found</span>
                                        </ng-template>
                                        <ng-template #footerTpl43></ng-template>
                                    </nz-empty>
                                </div>
                            </div>
                        </div>
                    </div>
                </nz-tab>
                <nz-tab [nzTitle]="'Orders'">
                    <div *ngIf="show == 1">
                        <app-orderlist [FILTER_ID]="custid" [TYPE]="'CUSTOMER'"></app-orderlist>
                    </div>
                </nz-tab>
                <nz-tab [nzTitle]="'Jobs'">
                    <div *ngIf="show == 2">
                        <app-jobcardpage [FILTER_ID]="custid" [TYPE]="'CUSTOMER'"></app-jobcardpage>
                    </div>
                </nz-tab>
                <nz-tab [nzTitle]="'Order Location'">
                    <div *ngIf="show == 3">
                        <app-location [FILTER_ID]="custid" [TYPE]="'CUSTOMER'"></app-location>
                    </div>
                </nz-tab>
                <nz-tab [nzTitle]="'Chats'">
                    <div *ngIf="show == 4">
                        <app-chatoverview-comp [FILTER_ID]="custid" [TYPE]="'CUSTOMER'"></app-chatoverview-comp>
                    </div>
                </nz-tab>
                <nz-tab [nzTitle]="'Technician Ratings for Customers'">
                    <div *ngIf="show == 5">
                        <app-technicianratting [FILTER_ID]="custid" [TYPE]="'CUSTOMER'"></app-technicianratting>
                    </div>
                </nz-tab>
                <nz-tab [nzTitle]="'Customer Ratings for Technicians'">
                    <div *ngIf="show == 6">
                        <app-customerratting [FILTER_ID]="custid" [TYPE]="'CUSTOMER'"></app-customerratting>
                    </div>
                </nz-tab>
                <nz-tab [nzTitle]="'Activity Log'">
                    <div *ngIf="show == 7">
                        <app-actionlogs [FILTER_ID]="custid" [TYPE]="'CUSTOMER'"></app-actionlogs>
                    </div>
                </nz-tab>
                <nz-tab [nzTitle]="'Invoices'">
                    <div *ngIf="show == 8">
                        <app-invoicepage [FILTER_ID]="custid" [TYPE]="'CUSTOMER'"></app-invoicepage>
                    </div>
                </nz-tab>
            </nz-tabset>
        </div>
    </div>
</nz-spin>